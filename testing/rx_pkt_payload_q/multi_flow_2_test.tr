# Initialize the state for flow 0
0001__00__000__0000__0000__0_0000_0000_0000_0000_0000_0000
# Try to read
0001__11__000__0_0000_0000_0000_0000_0000_0000_0000_0000
# Receive the read response, check that we get empty
0010__11__0000_0000_0000_0000__0000_0000__1__000_0000_0000
# Check full
0001__01__000__0_0000_0000_0000_0000_0000_0000_0000_0000
# Receive the full response, check that we get head and tail are 0
0010__01__0000__0000__0000_0000_0000_0000_0000_0000_0000
# Write
0001__10__000__0000__0000_0000_0000_0100__0001_0000__0_0000
# Check full
0001__01__000__0_0000_0000_0000_0000_0000_0000_0000_0000
# Receive the full response, check that we get head = 0, tail = 1
0010__01__0000__0001__0000_0000_0000_0000_0000_0000_0000
# Write
0001__10__000__0001__0000_0000_0001_0100__0010_0000__0_0000
# Check full
0001__01__000__0_0000_0000_0000_0000_0000_0000_0000_0000
# Receive the full response, check that we get head = 0, tail = 2
0010__01__0000__0010__0000_0000_0000_0000_0000_0000_0000
# Initialize the state for flow 1
0001__00__001__0000__0000__0_0000_0000_0000_0000_0000_0000
# Try to read
0001__11__001__0_0000_0000_0000_0000_0000_0000_0000_0000
# Receive the read response, check that we get empty
0010__11__0000_0000_0000_0000__0000_0000__1__000_0000_0000
# Check full
0001__01__001__0_0000_0000_0000_0000_0000_0000_0000_0000
# Receive the full response, check that we get head and tail are 0
0010__01__0000__0000__0000_0000_0000_0000_0000_0000_0000
# Write
0001__10__001__0000__0000_0000_0001_0000__1000_0000__0_0000
# Check full
0001__01__001__0_0000_0000_0000_0000_0000_0000_0000_0000
# Receive the full response, check that we get head = 0, tail = 1
0010__01__0000__0001__0000_0000_0000_0000_0000_0000_0000
# Try to read from flow 0
0001__11__000__0_0000_0000_0000_0000_0000_0000_0000_0000
# Receive the read response, check that we get the expected thing back
0010__11__0000_0000_0000_0100__0001_0000__0__000_0000_0000
# Check full
0001__01__000__0_0000_0000_0000_0000_0000_0000_0000_0000
# Receive the full response, check that we get head = 1, tail = 2
0010__01__0001__0010__0000_0000_0000_0000_0000_0000_0000
# Try to read from flow 1
0001__11__001__0_0000_0000_0000_0000_0000_0000_0000_0000
# Receive the read response, check that we get the expected thing back
0010__11__0000_0000_0001_0000__1000_0000__0__000_0000_0000
# Check full
0001__01__001__0_0000_0000_0000_0000_0000_0000_0000_0000
# Receive the full response, check that we get head = 1, tail = 1
0010__01__0001__0001__0000_0000_0000_0000_0000_0000_0000
# Finish
0100__00_0000_0000_0000_0000_0000_0000_0000_0000_0000